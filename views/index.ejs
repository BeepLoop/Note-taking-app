<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Note Taking App</title>
    <link rel="stylesheet" href="/css/style.css" />
    <!-- <script
      defer
      src="https://kit.fontawesome.com/7c5c62a45c.js"
      crossorigin="anonymous"
    ></script> -->
    <script defer src="/scripts/script.js"></script>
  </head>
  <body>
    <div class="container">
      <header class="header">
        <button class="btn" id="btn-addNote">Add Note</button>
      </header>

      <dialog class="modal-container" id="modal-container">
        <div class="modal">
          <div class="modal-header">
            <h3>Add Note</h3>
            <span class="close" id="close">&times;</span>
          </div>
          <div class="modal-content">
            <form action="/" method="POST">
              <div class="form-row"></div>
              <div class="form-control">
                <label for="title">Title</label>
                <input type="text" name="title" id="title" required />
              </div>
              <div class="form-control">
                <label for="date">Date</label>
                <input type="text" name="date" id="date" required />
              </div>
              <div class="form-control">
                <label for="content">Content</label>
                <textarea
                  name="content"
                  id="content"
                  cols="30"
                  rows="10"
                  required
                ></textarea>
              </div>
              <div class="form-control cta">
                <div class="btn-container">
                  <button class="btn" type="submit">Save</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </dialog>

      <main class="main">
        <% if (notes.length <= 0) {%>
        <div class="no-note-alert">
          <p>No notes to show</p>
        </div>
        <% } else {%> <% notes.forEach(note => {%>
        <div class="note">
          <div class="note-header">
            <h3><%= note.title %></h3>
            <p class="note-date"><%= note.date %></p>
          </div>
          <div class="note-content">
            <p><%= note.content %></p>
          </div>
          <div class="note-controls">
            <form action="/delete/<%= note.id %>" method="POST">
              <button class="note-control-item" type="submit">Delete</button>
            </form>
          </div>
        </div>
        <% })} %>
      </main>
    </div>
  </body>
</html>
